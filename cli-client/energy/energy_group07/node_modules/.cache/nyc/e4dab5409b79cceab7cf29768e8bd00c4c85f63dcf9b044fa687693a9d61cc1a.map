{"version":3,"file":"/home/vangelis/TL19-07/cli-client/energy/energy_group07/src/commands/AggregatedGenerationPerType.ts","sources":["/home/vangelis/TL19-07/cli-client/energy/energy_group07/src/commands/AggregatedGenerationPerType.ts"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst command_1 = require(\"@oclif/command\");\nconst axios_1 = require(\"axios\");\nconst command_2 = require(\"@oclif/command\");\nvar fs = require('fs');\nconst https = require('https');\nconst client_cert = fs.readFileSync('ca-crt.pem');\naxios_1.default.defaults.httpsAgent = new https.Agent({ ca: client_cert, keepAlive: true });\nclass AggregatedCommand extends command_1.default {\n    async run() {\n        const axios = require('axios');\n        const { flags } = this.parse(AggregatedCommand);\n        var fs = require('fs');\n        var token = fs.readFileSync('softeng19bAPI.token', 'utf-8');\n        axios.defaults.headers.common['X-OBSERVATORY-AUTH'] = token;\n        const moment = require('moment');\n        if (`${flags.date}` !== \"undefined\" && !(moment(`${flags.date}`, 'YYYY-MM-DD', true).isValid()))\n            throw new Error(\"Wrong date format\");\n        else if (`${flags.month}` !== \"undefined\" && !(moment(`${flags.month}`, 'YYYY-MM', true).isValid()))\n            throw new Error(\"Wrong date format\");\n        else if (`${flags.year}` !== \"undefined\" && !(moment(`${flags.year}`, 'YYYY', true).isValid()))\n            throw new Error(\"Wrong date format\");\n        //console.log(`${flags.format}`);\n        if (`${flags.date}` !== \"undefined\") {\n            var splitted = `${flags.date}`.split(\"-\", 3);\n            // console.log('https://localhost:8765/energy/api/AggregatedGenerationPerType/' +`${flags.area}` +'/' + `${flags.prodtype}` +'/' + `${flags.timeres}` +'/date/' + splitted[0] +'-' + splitted[1] + '-' + splitted[2]);\n            if (`${flags.format}` == \"undefined\" || `${flags.format}` == \"json\") {\n                const data = await axios.get('https://localhost:8765/energy/api/AggregatedGenerationPerType/' + `${flags.area}` + '/' + `${flags.prodtype}` + '/' + `${flags.timeres}` + '/date/' + splitted[0] + '-' + splitted[1] + '-' + splitted[2]);\n                console.log(data.data);\n            }\n            else if (`${flags.format}` == \"csv\") {\n                const data = await axios.get('https://localhost:8765/energy/api/AggregatedGenerationPerType/' + `${flags.area}` + '/' + `${flags.prodtype}` + '/' + `${flags.timeres}` + '/date/' + splitted[0] + '-' + splitted[1] + '-' + splitted[2] + \"?format=\" + `${flags.format}`);\n                console.log(data.data);\n            }\n            else\n                console.log(\"Error 400: Bad Request\");\n        }\n        else if (`${flags.month}` !== \"undefined\") {\n            var splitted = `${flags.month}`.split(\"-\", 2);\n            if (`${flags.format}` == \"undefined\" || `${flags.format}` == \"json\") {\n                const data = await axios.get('https://localhost:8765/energy/api/AggregatedGenerationPerType/' + `${flags.area}` + '/' + `${flags.prodtype}` + '/' + `${flags.timeres}` + '/month/' + splitted[0] + '-' + splitted[1]);\n                console.log(data.data);\n            }\n            else if (`${flags.format}` == \"csv\") {\n                const data = await axios.get('https://localhost:8765/energy/api/AggregatedGenerationPerType/' + `${flags.area}` + '/' + `${flags.prodtype}` + '/' + `${flags.timeres}` + '/month/' + splitted[0] + '-' + splitted[1] + \"?format=\" + `${flags.format}`);\n                console.log(data.data);\n            }\n            else\n                console.log(\"Error 400: Bad Request\");\n        }\n        else if (`${flags.year}` !== \"undefined\") {\n            if (`${flags.format}` == \"undefined\" || `${flags.format}` == \"json\") {\n                const data = await axios.get('https://localhost:8765/energy/api/AggregatedGenerationPerType/' + `${flags.area}` + '/' + `${flags.prodtype}` + '/' + `${flags.timeres}` + '/year/' + `${flags.year}`);\n                console.log(data.data);\n            }\n            else if (`${flags.format}` == \"csv\") {\n                const data = await axios.get('https://localhost:8765/energy/api/AggregatedGenerationPerType/' + `${flags.area}` + '/' + `${flags.prodtype}` + '/' + `${flags.timeres}` + '/year/' + `${flags.year}` + \"?format=\" + `${flags.format}`);\n                console.log(data.data);\n            }\n            else\n                console.log(\"Error 400: Bad Request\");\n        }\n        else\n            console.log(\"Error 400: Bad Request\");\n    }\n}\nexports.AggregatedCommand = AggregatedCommand;\nAggregatedCommand.flags = {\n    area: command_2.flags.string({ multiple: true }),\n    timeres: command_2.flags.string({ options: ['PT15M', 'PT30M', 'PT60M'] }),\n    prodtype: command_2.flags.string({ options: ['Fossil Gas', 'Hydro Run-of-river and poundage', 'Hydro Pumped Storage', 'Hydro Water Reservoir', 'Fossil Hard coal', 'Nuclear', 'Fossil Brown coal/Lignite', 'Fossil Oil', 'Fossil Oil shale', 'Biomass', 'Fossil Peat', 'Wind Onshore', 'Other', 'Wind Offshore', 'Fossil Coal-derived gas', 'Waste', 'Solar', 'Geothermal', 'Other renewable', 'Marine', 'AC Link', 'Transformer', 'DC Link', 'Substation', 'AllTypes'] }),\n    date: command_2.flags.string(),\n    month: command_2.flags.string(),\n    year: command_2.flags.string(),\n    format: command_2.flags.string({ options: ['json', 'csv'] })\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdmFuZ2VsaXMvVEwxOS0wNy9jbGktY2xpZW50L2VuZXJneS9lbmVyZ3lfZ3JvdXAwNy9zcmMvY29tbWFuZHMvQWdncmVnYXRlZEdlbmVyYXRpb25QZXJUeXBlLnRzIiwic291cmNlcyI6WyIvaG9tZS92YW5nZWxpcy9UTDE5LTA3L2NsaS1jbGllbnQvZW5lcmd5L2VuZXJneV9ncm91cDA3L3NyYy9jb21tYW5kcy9BZ2dyZWdhdGVkR2VuZXJhdGlvblBlclR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw0Q0FBb0M7QUFDcEMsaUNBQXlCO0FBQ3pCLDRDQUFvQztBQUNwQyxJQUFJLEVBQUUsR0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckIsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzlCLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDakQsZUFBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUMsRUFBRSxFQUFHLFdBQVcsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQTtBQUNoRixNQUFhLGlCQUFrQixTQUFRLGlCQUFPO0lBVTVDLEtBQUssQ0FBQyxHQUFHO1FBRVYsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQy9CLE1BQU0sRUFBQyxLQUFLLEVBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDOUMsSUFBSSxFQUFFLEdBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMscUJBQXFCLEVBQUMsT0FBTyxDQUFDLENBQUM7UUFDM0QsS0FBSyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLEdB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UUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO0lBQ3BDLE9BQU8sRUFBRSxlQUFLLENBQUMsTUFBTSxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxPQUFPLENBQUMsRUFBQyxDQUFDO0lBQzFELFFBQVEsRUFBRSxlQUFLLENBQUMsTUFBTSxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsWUFBWSxFQUFDLGlDQUFpQyxFQUFDLHNCQUFzQixFQUFDLHVCQUF1QixFQUFDLGtCQUFrQixFQUFDLFNBQVMsRUFBQywyQkFBMkIsRUFBQyxZQUFZLEVBQUMsa0JBQWtCLEVBQUMsU0FBUyxFQUFDLGFBQWEsRUFBQyxjQUFjLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyx5QkFBeUIsRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLFlBQVksRUFBQyxpQkFBaUIsRUFBQyxRQUFRLEVBQUMsU0FBUyxFQUFDLGFBQWEsRUFBQyxTQUFTLEVBQUMsWUFBWSxFQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUM7SUFDcmEsSUFBSSxFQUFFLGVBQUssQ0FBQyxNQUFNLEVBQUU7SUFDcEIsS0FBSyxFQUFFLGVBQUssQ0FBQyxNQUFNLEVBQUU7SUFDckIsSUFBSSxFQUFFLGVBQUssQ0FBQyxNQUFNLEVBQUU7SUFDcEIsTUFBTSxFQUFFLGVBQUssQ0FBQyxNQUFNLENBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxNQUFNLEVBQUMsS0FBSyxDQUFDLEVBQUMsQ0FBQztDQUMvQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbW1hbmQgZnJvbSAnQG9jbGlmL2NvbW1hbmQnXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5pbXBvcnQge2ZsYWdzfSBmcm9tICdAb2NsaWYvY29tbWFuZCdcbnZhciBmcz1yZXF1aXJlKCdmcycpO1xuY29uc3QgaHR0cHMgPSByZXF1aXJlKCdodHRwcycpXG5jb25zdCBjbGllbnRfY2VydCA9IGZzLnJlYWRGaWxlU3luYygnY2EtY3J0LnBlbScpXG5heGlvcy5kZWZhdWx0cy5odHRwc0FnZW50ID0gbmV3IGh0dHBzLkFnZW50KHtjYSA6IGNsaWVudF9jZXJ0LCBrZWVwQWxpdmU6IHRydWV9KVxuZXhwb3J0IGNsYXNzIEFnZ3JlZ2F0ZWRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gIHN0YXRpYyBmbGFncyA9IHtcbiAgICBhcmVhOiBmbGFncy5zdHJpbmcoe211bHRpcGxlOiB0cnVlfSksXG4gICAgdGltZXJlczogZmxhZ3Muc3RyaW5nKHtvcHRpb25zOlsnUFQxNU0nLCdQVDMwTScsJ1BUNjBNJ119KSxcbiAgICBwcm9kdHlwZTogZmxhZ3Muc3RyaW5nKHtvcHRpb25zOlsnRm9zc2lsIEdhcycsJ0h5ZHJvIFJ1bi1vZi1yaXZlciBhbmQgcG91bmRhZ2UnLCdIeWRybyBQdW1wZWQgU3RvcmFnZScsJ0h5ZHJvIFdhdGVyIFJlc2Vydm9pcicsJ0Zvc3NpbCBIYXJkIGNvYWwnLCdOdWNsZWFyJywnRm9zc2lsIEJyb3duIGNvYWwvTGlnbml0ZScsJ0Zvc3NpbCBPaWwnLCdGb3NzaWwgT2lsIHNoYWxlJywnQmlvbWFzcycsJ0Zvc3NpbCBQZWF0JywnV2luZCBPbnNob3JlJywnT3RoZXInLCdXaW5kIE9mZnNob3JlJywnRm9zc2lsIENvYWwtZGVyaXZlZCBnYXMnLCdXYXN0ZScsJ1NvbGFyJywnR2VvdGhlcm1hbCcsJ090aGVyIHJlbmV3YWJsZScsJ01hcmluZScsJ0FDIExpbmsnLCdUcmFuc2Zvcm1lcicsJ0RDIExpbmsnLCdTdWJzdGF0aW9uJywnQWxsVHlwZXMnXX0pLFxuICAgIGRhdGU6IGZsYWdzLnN0cmluZygpLFxuICAgIG1vbnRoOiBmbGFncy5zdHJpbmcoKSxcbiAgICB5ZWFyOiBmbGFncy5zdHJpbmcoKSxcbiAgICBmb3JtYXQ6IGZsYWdzLnN0cmluZyh7b3B0aW9uczpbJ2pzb24nLCdjc3YnXX0pXG4gIH1cbiAgYXN5bmMgcnVuKCkge1xuXG5cdGNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTtcblx0Y29uc3Qge2ZsYWdzfSA9IHRoaXMucGFyc2UoQWdncmVnYXRlZENvbW1hbmQpOyBcblx0dmFyIGZzPXJlcXVpcmUoJ2ZzJyk7XG5cdHZhciB0b2tlbiA9IGZzLnJlYWRGaWxlU3luYygnc29mdGVuZzE5YkFQSS50b2tlbicsJ3V0Zi04Jyk7XG5cdGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLU9CU0VSVkFUT1JZLUFVVEgnXT10b2tlbjtcblx0XG5cdGNvbnN0IG1vbWVudD1yZXF1aXJlKCdtb21lbnQnKTtcblx0aWYoYCR7ZmxhZ3MuZGF0ZX1gICE9PSBcInVuZGVmaW5lZFwiICYmICEobW9tZW50KGAke2ZsYWdzLmRhdGV9YCwgJ1lZWVktTU0tREQnLHRydWUpLmlzVmFsaWQoKSkpIHRocm93IG5ldyBFcnJvcihcIldyb25nIGRhdGUgZm9ybWF0XCIpO1xuXHRlbHNlIGlmKGAke2ZsYWdzLm1vbnRofWAgIT09IFwidW5kZWZpbmVkXCIgJiYgIShtb21lbnQoYCR7ZmxhZ3MubW9udGh9YCwgJ1lZWVktTU0nLHRydWUpLmlzVmFsaWQoKSkpIHRocm93IG5ldyBFcnJvcihcIldyb25nIGRhdGUgZm9ybWF0XCIpO1xuXHRlbHNlIGlmKGAke2ZsYWdzLnllYXJ9YCAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhKG1vbWVudChgJHtmbGFncy55ZWFyfWAsICdZWVlZJyx0cnVlKS5pc1ZhbGlkKCkpKSB0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBkYXRlIGZvcm1hdFwiKTtcblx0XG5cdC8vY29uc29sZS5sb2coYCR7ZmxhZ3MuZm9ybWF0fWApO1xuXHRpZiAoYCR7ZmxhZ3MuZGF0ZX1gICE9PVwidW5kZWZpbmVkXCIpe1xuXHQgdmFyIHNwbGl0dGVkID0gYCR7ZmxhZ3MuZGF0ZX1gLnNwbGl0KFwiLVwiLCAzKTsgXG5cdC8vIGNvbnNvbGUubG9nKCdodHRwczovL2xvY2FsaG9zdDo4NzY1L2VuZXJneS9hcGkvQWdncmVnYXRlZEdlbmVyYXRpb25QZXJUeXBlLycgK2Ake2ZsYWdzLmFyZWF9YCArJy8nICsgYCR7ZmxhZ3MucHJvZHR5cGV9YCArJy8nICsgYCR7ZmxhZ3MudGltZXJlc31gICsnL2RhdGUvJyArIHNwbGl0dGVkWzBdICsnLScgKyBzcGxpdHRlZFsxXSArICctJyArIHNwbGl0dGVkWzJdKTtcblx0IGlmIChgJHtmbGFncy5mb3JtYXR9YD09IFwidW5kZWZpbmVkXCIgfHwgYCR7ZmxhZ3MuZm9ybWF0fWA9PVwianNvblwiKXtcblx0IGNvbnN0IGRhdGE9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9sb2NhbGhvc3Q6ODc2NS9lbmVyZ3kvYXBpL0FnZ3JlZ2F0ZWRHZW5lcmF0aW9uUGVyVHlwZS8nICtgJHtmbGFncy5hcmVhfWAgKycvJyArIGAke2ZsYWdzLnByb2R0eXBlfWAgKycvJyArIGAke2ZsYWdzLnRpbWVyZXN9YCArJy9kYXRlLycgKyBzcGxpdHRlZFswXSArJy0nICsgc3BsaXR0ZWRbMV0gKyAnLScgKyBzcGxpdHRlZFsyXSk7XG5cdCBcdCBjb25zb2xlLmxvZyhkYXRhLmRhdGEpO1xuXHQgfVxuXHQgZWxzZSBpZiAoYCR7ZmxhZ3MuZm9ybWF0fWA9PVwiY3N2XCIpIHtcblx0IFx0IGNvbnN0IGRhdGE9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9sb2NhbGhvc3Q6ODc2NS9lbmVyZ3kvYXBpL0FnZ3JlZ2F0ZWRHZW5lcmF0aW9uUGVyVHlwZS8nICtgJHtmbGFncy5hcmVhfWAgKycvJyArIGAke2ZsYWdzLnByb2R0eXBlfWAgKycvJyArIGAke2ZsYWdzLnRpbWVyZXN9YCArJy9kYXRlLycgKyBzcGxpdHRlZFswXSArJy0nICsgc3BsaXR0ZWRbMV0gKyAnLScgKyBzcGxpdHRlZFsyXSsgXCI/Zm9ybWF0PVwiICsgYCR7ZmxhZ3MuZm9ybWF0fWApO1xuXHQgXHQgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcblx0IH1cblx0IGVsc2UgY29uc29sZS5sb2coXCJFcnJvciA0MDA6IEJhZCBSZXF1ZXN0XCIpO1xuXG5cdH1cblxuXHRlbHNlIGlmIChgJHtmbGFncy5tb250aH1gICE9PSBcInVuZGVmaW5lZFwiKXtcblx0IFx0IHZhciBzcGxpdHRlZCA9IGAke2ZsYWdzLm1vbnRofWAuc3BsaXQoXCItXCIsIDIpOyBcblx0IFx0IFx0IGlmIChgJHtmbGFncy5mb3JtYXR9YD09IFwidW5kZWZpbmVkXCIgfHwgYCR7ZmxhZ3MuZm9ybWF0fWA9PVwianNvblwiKXtcblx0IGNvbnN0IGRhdGE9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9sb2NhbGhvc3Q6ODc2NS9lbmVyZ3kvYXBpL0FnZ3JlZ2F0ZWRHZW5lcmF0aW9uUGVyVHlwZS8nICtgJHtmbGFncy5hcmVhfWAgKycvJyArIGAke2ZsYWdzLnByb2R0eXBlfWAgKycvJyArICBgJHtmbGFncy50aW1lcmVzfWAgKycvbW9udGgvJyArIHNwbGl0dGVkWzBdICsnLScgKyBzcGxpdHRlZFsxXSk7XG5cdCBcdFx0XHQgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcblx0IFx0XHR9XG5cblx0IFx0IGVsc2UgaWYgKGAke2ZsYWdzLmZvcm1hdH1gPT1cImNzdlwiKSB7XG5cdCBcdCBjb25zdCBkYXRhPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vbG9jYWxob3N0Ojg3NjUvZW5lcmd5L2FwaS9BZ2dyZWdhdGVkR2VuZXJhdGlvblBlclR5cGUvJyArYCR7ZmxhZ3MuYXJlYX1gICsnLycgKyBgJHtmbGFncy5wcm9kdHlwZX1gICsnLycgKyBgJHtmbGFncy50aW1lcmVzfWAgKycvbW9udGgvJyArIHNwbGl0dGVkWzBdICsnLScgKyBzcGxpdHRlZFsxXSArIFwiP2Zvcm1hdD1cIiArIGAke2ZsYWdzLmZvcm1hdH1gKTtcblx0IFx0IGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XG5cdCAgICB9XG5cdCAgICBcblx0ICAgIGVsc2UgY29uc29sZS5sb2coXCJFcnJvciA0MDA6IEJhZCBSZXF1ZXN0XCIpO1xuXHR9XG5cdFxuXHRlbHNlIGlmIChgJHtmbGFncy55ZWFyfWAgIT09IFwidW5kZWZpbmVkXCIpe1xuXHQgaWYgKGAke2ZsYWdzLmZvcm1hdH1gPT0gXCJ1bmRlZmluZWRcIiB8fCBgJHtmbGFncy5mb3JtYXR9YD09XCJqc29uXCIpe1xuXHQgY29uc3QgZGF0YT0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwczovL2xvY2FsaG9zdDo4NzY1L2VuZXJneS9hcGkvQWdncmVnYXRlZEdlbmVyYXRpb25QZXJUeXBlLycgK2Ake2ZsYWdzLmFyZWF9YCArJy8nICsgYCR7ZmxhZ3MucHJvZHR5cGV9YCArJy8nICsgYCR7ZmxhZ3MudGltZXJlc31gICsnL3llYXIvJyArYCR7ZmxhZ3MueWVhcn1gKTtcblx0IGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XG5cdCB9XG5cdCBcblx0IGVsc2UgaWYgKGAke2ZsYWdzLmZvcm1hdH1gPT1cImNzdlwiKSB7XG5cdCBcdCBjb25zdCBkYXRhPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vbG9jYWxob3N0Ojg3NjUvZW5lcmd5L2FwaS9BZ2dyZWdhdGVkR2VuZXJhdGlvblBlclR5cGUvJyArYCR7ZmxhZ3MuYXJlYX1gICsnLycgKyBgJHtmbGFncy5wcm9kdHlwZX1gICsnLycgKyBgJHtmbGFncy50aW1lcmVzfWAgKycveWVhci8nICsgYCR7ZmxhZ3MueWVhcn1gICsgXCI/Zm9ybWF0PVwiICsgYCR7ZmxhZ3MuZm9ybWF0fWApO1xuXHQgXHQgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcblx0ICAgIH1cblx0ICBcblx0IGVsc2UgY29uc29sZS5sb2coXCJFcnJvciA0MDA6IEJhZCBSZXF1ZXN0XCIpO1xuXHR9XG5cdFxuXHRlbHNlIGNvbnNvbGUubG9nKFwiRXJyb3IgNDAwOiBCYWQgUmVxdWVzdFwiKTtcblx0XG5cdFxuICB9IFxufVxuIl19"]}