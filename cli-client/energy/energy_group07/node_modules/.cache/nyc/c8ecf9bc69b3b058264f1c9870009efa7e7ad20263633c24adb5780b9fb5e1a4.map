{"version":3,"file":"/home/vangelis/TL19-07/cli-client/energy/energy_group07/src/commands/ActualTotalLoad.ts","sources":["/home/vangelis/TL19-07/cli-client/energy/energy_group07/src/commands/ActualTotalLoad.ts"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst command_1 = require(\"@oclif/command\");\nconst axios_1 = require(\"axios\");\nconst command_2 = require(\"@oclif/command\");\nvar fs = require('fs');\nconst https = require('https');\nconst client_cert = fs.readFileSync('ca-crt.pem');\naxios_1.default.defaults.httpsAgent = new https.Agent({ ca: client_cert, keepAlive: true });\nclass ActualTotalLoadCommand extends command_1.default {\n    async run() {\n        const axios = require('axios');\n        const { flags } = this.parse(ActualTotalLoadCommand);\n        var fs = require('fs');\n        var token = fs.readFileSync('softeng19bAPI.token', 'utf-8');\n        //console.log(token); to be erased\n        const moment = require('moment');\n        if (`${flags.date}` !== \"undefined\" && !(moment(`${flags.date}`, 'YYYY-MM-DD', true).isValid()))\n            throw new Error(\"Wrong date format\");\n        else if (`${flags.month}` !== \"undefined\" && !(moment(`${flags.month}`, 'YYYY-MM', true).isValid()))\n            throw new Error(\"Wrong date format\");\n        else if (`${flags.year}` !== \"undefined\" && !(moment(`${flags.year}`, 'YYYY', true).isValid()))\n            throw new Error(\"Wrong date format\");\n        axios.defaults.headers.common['X-OBSERVATORY-AUTH'] = token;\n        //console.log(`${flags.area}`,`${flags.timeres}`,`${flags.date}`,`${flags.format}`);\n        if (`${flags.date}` !== \"undefined\") {\n            var splitted = `${flags.date}`.split(\"-\", 3);\n            if (`${flags.format}` == \"undefined\" || `${flags.format}` == \"json\") {\n                const data = await axios.get('https://localhost:8765/energy/api/ActualTotalLoad/' + `${flags.area}` + '/' + `${flags.timeres}` + '/date/' + splitted[0] + '-' + splitted[1] + '-' + splitted[2]);\n                console.log(data.data);\n            }\n            else if (`${flags.format}` == \"csv\") {\n                const data = await axios.get('https://localhost:8765/energy/api/ActualTotalLoad/' + `${flags.area}` + '/' + `${flags.timeres}` + '/date/' + splitted[0] + '-' + splitted[1] + '-' + splitted[2] + \"?format=\" + `${flags.format}`);\n                console.log(data.data);\n            }\n            else\n                console.log(\"Error 400: Bad Request\");\n        }\n        else if (`${flags.month}` !== \"undefined\") {\n            var splitted = `${flags.month}`.split(\"-\", 2);\n            if (`${flags.format}` == \"undefined\" || `${flags.format}` == \"json\") {\n                const data = await axios.get('https://localhost:8765/energy/api/ActualTotalLoad/' + `${flags.area}` + '/' + `${flags.timeres}` + '/month/' + splitted[0] + '-' + splitted[1]);\n                console.log(data.data);\n            }\n            else if (`${flags.format}` == \"csv\") {\n                const data = await axios.get('https://localhost:8765/energy/api/ActualTotalLoad/' + `${flags.area}` + '/' + `${flags.timeres}` + '/month/' + splitted[0] + '-' + splitted[1] + \"?format=\" + `${flags.format}`);\n                console.log(data.data);\n            }\n            else\n                console.log(\"Error 400: Bad Request\");\n        }\n        else if (`${flags.year}` !== \"undefined\") {\n            if (`${flags.format}` == \"undefined\" || `${flags.format}` == \"json\") {\n                const data = await axios.get('https://localhost:8765/energy/api/ActualTotalLoad/' + `${flags.area}` + '/' + `${flags.timeres}` + '/year/' + `${flags.year}`);\n                console.log(data.data);\n            }\n            else if (`${flags.format}` == \"csv\") {\n                const data = await axios.get('https://localhost:8765/energy/api/ActualTotalLoad/' + `${flags.area}` + '/' + `${flags.timeres}` + '/year/' + `${flags.year}` + \"?format=\" + `${flags.format}`);\n                console.log(data.data);\n            }\n            else\n                console.log(\"Error 400: Bad Request\");\n        }\n        else\n            console.log(\"Error 400: Bad Request\");\n        /*console.log('https://localhost:8765/energy/api/ActualTotalLoad/' +`${flags.area}` +'/' + `${flags.timeres}` +'/date/' +`${flags.Year}` +'-' + `${flags.Month}` + '-' + `${flags.Day}`);\n        console.log(`${flags.area}`,`${flags.timeres}`,`${flags.Year}`,`${flags.Month}`,`${flags.Day}`);*/\n    }\n}\nexports.ActualTotalLoadCommand = ActualTotalLoadCommand;\nActualTotalLoadCommand.flags = {\n    area: command_2.flags.string({ multiple: true }),\n    timeres: command_2.flags.string({ options: ['PT15M', 'PT30M', 'PT60M'] }),\n    date: command_2.flags.string(),\n    month: command_2.flags.string(),\n    year: command_2.flags.string(),\n    format: command_2.flags.string({ options: ['json', 'csv'] })\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdmFuZ2VsaXMvVEwxOS0wNy9jbGktY2xpZW50L2VuZXJneS9lbmVyZ3lfZ3JvdXAwNy9zcmMvY29tbWFuZHMvQWN0dWFsVG90YWxMb2FkLnRzIiwic291cmNlcyI6WyIvaG9tZS92YW5nZWxpcy9UTDE5LTA3L2NsaS1jbGllbnQvZW5lcmd5L2VuZXJneV9ncm91cDA3L3NyYy9jb21tYW5kcy9BY3R1YWxUb3RhbExvYWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw0Q0FBb0M7QUFDcEMsaUNBQXlCO0FBQ3pCLDRDQUFxQztBQUNyQyxJQUFJLEVBQUUsR0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckIsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzlCLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDakQsZUFBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUMsRUFBRSxFQUFHLFdBQVcsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQTtBQUVoRixNQUFhLHNCQUF1QixTQUFRLGlCQUFPO0lBU2pELEtBQUssQ0FBQyxHQUFHO1FBQ1YsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQy9CLE1BQU0sRUFBQyxLQUFLLEVBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDbkQsSUFBSSxFQUFFLEdBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMscUJBQXFCLEVBQUMsT0FBTyxDQUFDLENBQUM7UUFDM0Qsa0NBQWtDO1FBRWxDLE1BQU0sTUFBTSxHQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMvQixJQUFHLEdBQUcsS0FBSyxDQUFD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QUFDLE1BQU0sQ0FBQyxFQUFDLE9BQU8sRUFBQyxDQUFDLE1BQU0sRUFBQyxLQUFLLENBQUMsRUFBQyxDQUFDO0NBQy9DLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tbWFuZCBmcm9tICdAb2NsaWYvY29tbWFuZCdcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcbmltcG9ydCB7ZmxhZ3N9IGZyb20gICdAb2NsaWYvY29tbWFuZCdcbnZhciBmcz1yZXF1aXJlKCdmcycpO1xuY29uc3QgaHR0cHMgPSByZXF1aXJlKCdodHRwcycpXG5jb25zdCBjbGllbnRfY2VydCA9IGZzLnJlYWRGaWxlU3luYygnY2EtY3J0LnBlbScpXG5heGlvcy5kZWZhdWx0cy5odHRwc0FnZW50ID0gbmV3IGh0dHBzLkFnZW50KHtjYSA6IGNsaWVudF9jZXJ0LCBrZWVwQWxpdmU6IHRydWV9KVxuXG5leHBvcnQgY2xhc3MgQWN0dWFsVG90YWxMb2FkQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICBzdGF0aWMgZmxhZ3MgPSB7IFxuICAgIGFyZWE6IGZsYWdzLnN0cmluZyh7bXVsdGlwbGU6IHRydWV9KSxcbiAgICB0aW1lcmVzOiBmbGFncy5zdHJpbmcoe29wdGlvbnM6WydQVDE1TScsJ1BUMzBNJywnUFQ2ME0nXX0pLFxuICAgIGRhdGU6IGZsYWdzLnN0cmluZygpLFxuICAgIG1vbnRoOiBmbGFncy5zdHJpbmcoKSxcbiAgICB5ZWFyOiBmbGFncy5zdHJpbmcoKSxcbiAgICBmb3JtYXQ6IGZsYWdzLnN0cmluZyh7b3B0aW9uczpbJ2pzb24nLCdjc3YnXX0pXG4gIH1cbiAgYXN5bmMgcnVuKCkge1xuXHRjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7XG5cdGNvbnN0IHtmbGFnc30gPSB0aGlzLnBhcnNlKEFjdHVhbFRvdGFsTG9hZENvbW1hbmQpOyBcblx0dmFyIGZzPXJlcXVpcmUoJ2ZzJyk7XG5cdHZhciB0b2tlbiA9IGZzLnJlYWRGaWxlU3luYygnc29mdGVuZzE5YkFQSS50b2tlbicsJ3V0Zi04Jyk7XG5cdC8vY29uc29sZS5sb2codG9rZW4pOyB0byBiZSBlcmFzZWRcblx0XG5cdGNvbnN0IG1vbWVudD1yZXF1aXJlKCdtb21lbnQnKTtcblx0aWYoYCR7ZmxhZ3MuZGF0ZX1gICE9PSBcInVuZGVmaW5lZFwiICYmICEobW9tZW50KGAke2ZsYWdzLmRhdGV9YCwgJ1lZWVktTU0tREQnLHRydWUpLmlzVmFsaWQoKSkpIHRocm93IG5ldyBFcnJvcihcIldyb25nIGRhdGUgZm9ybWF0XCIpO1xuXHRlbHNlIGlmKGAke2ZsYWdzLm1vbnRofWAgIT09IFwidW5kZWZpbmVkXCIgJiYgIShtb21lbnQoYCR7ZmxhZ3MubW9udGh9YCwgJ1lZWVktTU0nLHRydWUpLmlzVmFsaWQoKSkpIHRocm93IG5ldyBFcnJvcihcIldyb25nIGRhdGUgZm9ybWF0XCIpO1xuXHRlbHNlIGlmKGAke2ZsYWdzLnllYXJ9YCAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhKG1vbWVudChgJHtmbGFncy55ZWFyfWAsICdZWVlZJyx0cnVlKS5pc1ZhbGlkKCkpKSB0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBkYXRlIGZvcm1hdFwiKTtcblx0XG5cdGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLU9CU0VSVkFUT1JZLUFVVEgnXT10b2tlbjtcblx0Ly9jb25zb2xlLmxvZyhgJHtmbGFncy5hcmVhfWAsYCR7ZmxhZ3MudGltZXJlc31gLGAke2ZsYWdzLmRhdGV9YCxgJHtmbGFncy5mb3JtYXR9YCk7XG5cdGlmIChgJHtmbGFncy5kYXRlfWAgIT09IFwidW5kZWZpbmVkXCIpe1xuXHQgdmFyIHNwbGl0dGVkID0gYCR7ZmxhZ3MuZGF0ZX1gLnNwbGl0KFwiLVwiLCAzKTsgXG5cdCBpZiAoYCR7ZmxhZ3MuZm9ybWF0fWA9PSBcInVuZGVmaW5lZFwiIHx8IGAke2ZsYWdzLmZvcm1hdH1gPT1cImpzb25cIil7XG5cdCBjb25zdCBkYXRhPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vbG9jYWxob3N0Ojg3NjUvZW5lcmd5L2FwaS9BY3R1YWxUb3RhbExvYWQvJyArYCR7ZmxhZ3MuYXJlYX1gICsnLycgKyBgJHtmbGFncy50aW1lcmVzfWAgKycvZGF0ZS8nICsgc3BsaXR0ZWRbMF0gKyctJyArIHNwbGl0dGVkWzFdICsgJy0nICsgc3BsaXR0ZWRbMl0pO1xuXHQgXHQgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcblx0IH1cblx0IGVsc2UgaWYgKGAke2ZsYWdzLmZvcm1hdH1gPT1cImNzdlwiKSB7XG5cdCBcdCBjb25zdCBkYXRhPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vbG9jYWxob3N0Ojg3NjUvZW5lcmd5L2FwaS9BY3R1YWxUb3RhbExvYWQvJyArYCR7ZmxhZ3MuYXJlYX1gICsnLycgKyBgJHtmbGFncy50aW1lcmVzfWAgKycvZGF0ZS8nICsgc3BsaXR0ZWRbMF0gKyctJyArIHNwbGl0dGVkWzFdICsgJy0nICsgc3BsaXR0ZWRbMl0rIFwiP2Zvcm1hdD1cIiArIGAke2ZsYWdzLmZvcm1hdH1gKTtcblx0IFx0IGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XG5cdCB9XG5cdCBlbHNlIGNvbnNvbGUubG9nKFwiRXJyb3IgNDAwOiBCYWQgUmVxdWVzdFwiKTtcblxuXHR9XG5cblx0ZWxzZSBpZiAoYCR7ZmxhZ3MubW9udGh9YCE9PVwidW5kZWZpbmVkXCIpe1xuXHQgXHQgdmFyIHNwbGl0dGVkID0gYCR7ZmxhZ3MubW9udGh9YC5zcGxpdChcIi1cIiwgMik7IFxuXHQgXHQgXHQgaWYgKGAke2ZsYWdzLmZvcm1hdH1gPT0gXCJ1bmRlZmluZWRcIiB8fCBgJHtmbGFncy5mb3JtYXR9YD09XCJqc29uXCIpe1xuXHQgY29uc3QgZGF0YT0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwczovL2xvY2FsaG9zdDo4NzY1L2VuZXJneS9hcGkvQWN0dWFsVG90YWxMb2FkLycgK2Ake2ZsYWdzLmFyZWF9YCArJy8nICsgYCR7ZmxhZ3MudGltZXJlc31gICsnL21vbnRoLycgKyBzcGxpdHRlZFswXSArJy0nICsgc3BsaXR0ZWRbMV0pO1xuXHQgXHRcdFx0IGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XG5cdCBcdFx0fVxuXG5cdCBcdCBlbHNlIGlmIChgJHtmbGFncy5mb3JtYXR9YD09XCJjc3ZcIikge1xuXHQgXHQgY29uc3QgZGF0YT0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwczovL2xvY2FsaG9zdDo4NzY1L2VuZXJneS9hcGkvQWN0dWFsVG90YWxMb2FkLycgK2Ake2ZsYWdzLmFyZWF9YCArJy8nICsgYCR7ZmxhZ3MudGltZXJlc31gICsnL21vbnRoLycgKyBzcGxpdHRlZFswXSArJy0nICsgc3BsaXR0ZWRbMV0gKyBcIj9mb3JtYXQ9XCIgKyBgJHtmbGFncy5mb3JtYXR9YCk7XG5cdCBcdCBjb25zb2xlLmxvZyhkYXRhLmRhdGEpO1xuXHQgICAgfVxuXHQgICAgXG5cdCAgICBlbHNlIGNvbnNvbGUubG9nKFwiRXJyb3IgNDAwOiBCYWQgUmVxdWVzdFwiKTtcblx0fVxuXHRcblx0ZWxzZSBpZiAoYCR7ZmxhZ3MueWVhcn1gIT09XCJ1bmRlZmluZWRcIil7XG5cdCBpZiAoYCR7ZmxhZ3MuZm9ybWF0fWA9PSBcInVuZGVmaW5lZFwiIHx8IGAke2ZsYWdzLmZvcm1hdH1gPT1cImpzb25cIil7XG5cdCBjb25zdCBkYXRhPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vbG9jYWxob3N0Ojg3NjUvZW5lcmd5L2FwaS9BY3R1YWxUb3RhbExvYWQvJyArYCR7ZmxhZ3MuYXJlYX1gICsnLycgKyBgJHtmbGFncy50aW1lcmVzfWAgKycveWVhci8nICtgJHtmbGFncy55ZWFyfWApO1xuXHQgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcblx0IH1cblx0IFxuXHQgZWxzZSBpZiAoYCR7ZmxhZ3MuZm9ybWF0fWA9PVwiY3N2XCIpIHtcblx0IFx0IGNvbnN0IGRhdGE9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9sb2NhbGhvc3Q6ODc2NS9lbmVyZ3kvYXBpL0FjdHVhbFRvdGFsTG9hZC8nICtgJHtmbGFncy5hcmVhfWAgKycvJyArIGAke2ZsYWdzLnRpbWVyZXN9YCArJy95ZWFyLycgKyBgJHtmbGFncy55ZWFyfWAgKyBcIj9mb3JtYXQ9XCIgKyBgJHtmbGFncy5mb3JtYXR9YCk7XG5cdCBcdCBjb25zb2xlLmxvZyhkYXRhLmRhdGEpO1xuXHQgICAgfVxuXHQgIFxuXHQgZWxzZSBjb25zb2xlLmxvZyhcIkVycm9yIDQwMDogQmFkIFJlcXVlc3RcIik7XG5cdH1cblx0XG5cdGVsc2UgY29uc29sZS5sb2coXCJFcnJvciA0MDA6IEJhZCBSZXF1ZXN0XCIpO1xuXHRcblx0Lypjb25zb2xlLmxvZygnaHR0cHM6Ly9sb2NhbGhvc3Q6ODc2NS9lbmVyZ3kvYXBpL0FjdHVhbFRvdGFsTG9hZC8nICtgJHtmbGFncy5hcmVhfWAgKycvJyArIGAke2ZsYWdzLnRpbWVyZXN9YCArJy9kYXRlLycgK2Ake2ZsYWdzLlllYXJ9YCArJy0nICsgYCR7ZmxhZ3MuTW9udGh9YCArICctJyArIGAke2ZsYWdzLkRheX1gKTtcblx0Y29uc29sZS5sb2coYCR7ZmxhZ3MuYXJlYX1gLGAke2ZsYWdzLnRpbWVyZXN9YCxgJHtmbGFncy5ZZWFyfWAsYCR7ZmxhZ3MuTW9udGh9YCxgJHtmbGFncy5EYXl9YCk7Ki9cbiAgfSBcbn1cbiJdfQ=="]}