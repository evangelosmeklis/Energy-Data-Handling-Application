{"version":3,"file":"/home/vangelis/TL19-07/cli-client/energy/energy_group07/src/commands/DayAheadTotalLoadForecast.ts","sources":["/home/vangelis/TL19-07/cli-client/energy/energy_group07/src/commands/DayAheadTotalLoadForecast.ts"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst command_1 = require(\"@oclif/command\");\nconst axios_1 = require(\"axios\");\nconst command_2 = require(\"@oclif/command\");\nvar fs = require('fs');\nconst https = require('https');\nconst client_cert = fs.readFileSync('ca-crt.pem');\naxios_1.default.defaults.httpsAgent = new https.Agent({ ca: client_cert, keepAlive: true });\nclass ForecastCommand extends command_1.default {\n    async run() {\n        const axios = require('axios');\n        const { flags } = this.parse(ForecastCommand);\n        //console.log(`${flags.format}`);\n        var fs = require('fs');\n        var token = fs.readFileSync('softeng19bAPI.token', 'utf-8');\n        axios.defaults.headers.common['X-OBSERVATORY-AUTH'] = token;\n        const moment = require('moment');\n        if (`${flags.date}` !== \"undefined\" && !(moment(`${flags.date}`, 'YYYY-MM-DD', true).isValid()))\n            throw new Error(\"Wrong date format\");\n        else if (`${flags.month}` !== \"undefined\" && !(moment(`${flags.month}`, 'YYYY-MM', true).isValid()))\n            throw new Error(\"Wrong date format\");\n        else if (`${flags.year}` !== \"undefined\" && !(moment(`${flags.year}`, 'YYYY', true).isValid()))\n            throw new Error(\"Wrong date format\");\n        if (`${flags.date}` !== \"undefined\") {\n            var splitted = `${flags.date}`.split(\"-\", 3);\n            console.log('https://localhost:8765/energy/api/DayAheadTotalLoadForecast/' + `${flags.area}` + '/' + `${flags.timeres}` + '/date/' + splitted[0] + '-' + splitted[1] + '-' + splitted[2] + \"?format=\" + `${flags.format}`);\n            if (`${flags.format}` == \"undefined\" || `${flags.format}` == \"json\") {\n                const data = await axios.get('https://localhost:8765/energy/api/DayAheadTotalLoadForecast/' + `${flags.area}` + '/' + `${flags.timeres}` + '/date/' + splitted[0] + '-' + splitted[1] + '-' + splitted[2]);\n                console.log(data.data);\n            }\n            else if (`${flags.format}` == \"csv\") {\n                const data = await axios.get('https://localhost:8765/energy/api/DayAheadTotalLoadForecast/' + `${flags.area}` + '/' + `${flags.timeres}` + '/date/' + splitted[0] + '-' + splitted[1] + '-' + splitted[2] + \"?format=\" + `${flags.format}`);\n                console.log(data.data);\n            }\n            else\n                console.log(\"Error 400: Bad Request\");\n        }\n        else if (`${flags.month}` !== \"undefined\") {\n            var splitted = `${flags.month}`.split(\"-\", 2);\n            if (`${flags.format}` == \"undefined\" || `${flags.format}` == \"json\") {\n                const data = await axios.get('https://localhost:8765/energy/api/DayAheadTotalLoadForecast/' + `${flags.area}` + '/' + `${flags.timeres}` + '/month/' + splitted[0] + '-' + splitted[1]);\n                console.log(data.data);\n            }\n            else if (`${flags.format}` == \"csv\") {\n                const data = await axios.get('https://localhost:8765/energy/api/DayAheadTotalLoadForecast/' + `${flags.area}` + '/' + `${flags.timeres}` + '/month/' + splitted[0] + '-' + splitted[1] + \"?format=\" + `${flags.format}`);\n                console.log(data.data);\n            }\n            else\n                console.log(\"Error 400: Bad Request\");\n        }\n        else if (`${flags.year}` !== \"year\") {\n            if (`${flags.format}` == \"undefined\" || `${flags.format}` == \"json\") {\n                const data = await axios.get('https://localhost:8765/energy/api/DayAheadTotalLoadForecast/' + `${flags.area}` + '/' + `${flags.timeres}` + '/year/' + `${flags.year}`);\n                console.log(data.data);\n            }\n            else if (`${flags.format}` == \"csv\") {\n                const data = await axios.get('https://localhost:8765/energy/api/DayAheadTotalLoadForecast/' + `${flags.area}` + '/' + `${flags.timeres}` + '/year/' + `${flags.year}` + \"?format=\" + `${flags.format}`);\n                console.log(data.data);\n            }\n            else\n                console.log(\"Error 400: Bad Request\");\n        }\n        else\n            console.log(\"Error 400: Bad Request\");\n    }\n}\nexports.ForecastCommand = ForecastCommand;\nForecastCommand.flags = {\n    area: command_2.flags.string({ multiple: true }),\n    timeres: command_2.flags.string({ options: ['PT15M', 'PT30M', 'PT60M'] }),\n    date: command_2.flags.string(),\n    month: command_2.flags.string(),\n    year: command_2.flags.string(),\n    format: command_2.flags.string({ options: ['json', 'csv'] })\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdmFuZ2VsaXMvVEwxOS0wNy9jbGktY2xpZW50L2VuZXJneS9lbmVyZ3lfZ3JvdXAwNy9zcmMvY29tbWFuZHMvRGF5QWhlYWRUb3RhbExvYWRGb3JlY2FzdC50cyIsInNvdXJjZXMiOlsiL2hvbWUvdmFuZ2VsaXMvVEwxOS0wNy9jbGktY2xpZW50L2VuZXJneS9lbmVyZ3lfZ3JvdXAwNy9zcmMvY29tbWFuZHMvRGF5QWhlYWRUb3RhbExvYWRGb3JlY2FzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDRDQUFvQztBQUNwQyxpQ0FBeUI7QUFDekIsNENBQW9DO0FBQ3BDLElBQUksRUFBRSxHQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNyQixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDOUIsTUFBTSxXQUFXLEdBQUcsRUFBRSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNqRCxlQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsR0FBRyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBQyxFQUFFLEVBQUcsV0FBVyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFBO0FBQ2hGLE1BQWEsZUFBZ0IsU0FBUSxpQkFBTztJQVMxQyxLQUFLLENBQUMsR0FBRztRQUVWLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMvQixNQUFNLEVBQUMsS0FBSyxFQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM1QyxpQ0FBaUM7UUFDakMsSUFBSSxFQUFFLEdBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMscUJBQXFCLEVBQUMsT0FBTyxDQUFDLENBQUM7UUFDM0QsS0FBSyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLEdBQUMsS0FBSyxDQUFDO1FBRTFELE1BQU0sTUFBTSxHQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMvQixJQUFHLEdBQUcsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLFdBQVcsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFFLFlBQVksRUFBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQzthQUMvSCxJQUFHLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRSxLQUFLLFdBQVcsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQzthQUNuSSxJQUFHLEdBQUcsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLFdBQVcsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFFLE1BQU0sRUFBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUduSSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLFdBQVcsRUFBQztZQUNuQyxJQUFJLFFBQVEsR0FBRyxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsOERBQThELEdBQUUsR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFLEdBQUUsR0FBRyxHQUFHLEdBQUcsS0FBSyxDQUFDLE9BQU8sRUFBRSxHQUFFLFFBQVEsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUUsR0FBRyxH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QVEsRUFBRSxJQUFJLEVBQUMsQ0FBQztJQUNwQyxPQUFPLEVBQUUsZUFBSyxDQUFDLE1BQU0sQ0FBQyxFQUFDLE9BQU8sRUFBQyxDQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsT0FBTyxDQUFDLEVBQUMsQ0FBQztJQUMxRCxJQUFJLEVBQUUsZUFBSyxDQUFDLE1BQU0sRUFBRTtJQUNwQixLQUFLLEVBQUUsZUFBSyxDQUFDLE1BQU0sRUFBRTtJQUNyQixJQUFJLEVBQUUsZUFBSyxDQUFDLE1BQU0sRUFBRTtJQUNwQixNQUFNLEVBQUUsZUFBSyxDQUFDLE1BQU0sQ0FBQyxFQUFDLE9BQU8sRUFBQyxDQUFDLE1BQU0sRUFBQyxLQUFLLENBQUMsRUFBQyxDQUFDO0NBQy9DLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tbWFuZCBmcm9tICdAb2NsaWYvY29tbWFuZCdcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcbmltcG9ydCB7ZmxhZ3N9IGZyb20gJ0BvY2xpZi9jb21tYW5kJ1xudmFyIGZzPXJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBodHRwcyA9IHJlcXVpcmUoJ2h0dHBzJylcbmNvbnN0IGNsaWVudF9jZXJ0ID0gZnMucmVhZEZpbGVTeW5jKCdjYS1jcnQucGVtJylcbmF4aW9zLmRlZmF1bHRzLmh0dHBzQWdlbnQgPSBuZXcgaHR0cHMuQWdlbnQoe2NhIDogY2xpZW50X2NlcnQsIGtlZXBBbGl2ZTogdHJ1ZX0pXG5leHBvcnQgY2xhc3MgRm9yZWNhc3RDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICBzdGF0aWMgZmxhZ3MgPSB7XG4gICAgYXJlYTogZmxhZ3Muc3RyaW5nKHttdWx0aXBsZTogdHJ1ZX0pLFxuICAgIHRpbWVyZXM6IGZsYWdzLnN0cmluZyh7b3B0aW9uczpbJ1BUMTVNJywnUFQzME0nLCdQVDYwTSddfSksXG4gICAgZGF0ZTogZmxhZ3Muc3RyaW5nKCksXG4gICAgbW9udGg6IGZsYWdzLnN0cmluZygpLFxuICAgIHllYXI6IGZsYWdzLnN0cmluZygpLFxuICAgIGZvcm1hdDogZmxhZ3Muc3RyaW5nKHtvcHRpb25zOlsnanNvbicsJ2NzdiddfSlcbiAgfVxuICBhc3luYyBydW4oKSB7XG5cblx0Y29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpO1xuXHRjb25zdCB7ZmxhZ3N9ID0gdGhpcy5wYXJzZShGb3JlY2FzdENvbW1hbmQpOyBcblx0Ly9jb25zb2xlLmxvZyhgJHtmbGFncy5mb3JtYXR9YCk7XG5cdHZhciBmcz1yZXF1aXJlKCdmcycpO1xuXHR2YXIgdG9rZW4gPSBmcy5yZWFkRmlsZVN5bmMoJ3NvZnRlbmcxOWJBUEkudG9rZW4nLCd1dGYtOCcpO1xuXHRheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1PQlNFUlZBVE9SWS1BVVRIJ109dG9rZW47XG5cdFxuXHRjb25zdCBtb21lbnQ9cmVxdWlyZSgnbW9tZW50Jyk7XG5cdGlmKGAke2ZsYWdzLmRhdGV9YCAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhKG1vbWVudChgJHtmbGFncy5kYXRlfWAsICdZWVlZLU1NLUREJyx0cnVlKS5pc1ZhbGlkKCkpKSB0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBkYXRlIGZvcm1hdFwiKTtcblx0ZWxzZSBpZihgJHtmbGFncy5tb250aH1gICE9PSBcInVuZGVmaW5lZFwiICYmICEobW9tZW50KGAke2ZsYWdzLm1vbnRofWAsICdZWVlZLU1NJyx0cnVlKS5pc1ZhbGlkKCkpKSB0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBkYXRlIGZvcm1hdFwiKTtcblx0ZWxzZSBpZihgJHtmbGFncy55ZWFyfWAgIT09IFwidW5kZWZpbmVkXCIgJiYgIShtb21lbnQoYCR7ZmxhZ3MueWVhcn1gLCAnWVlZWScsdHJ1ZSkuaXNWYWxpZCgpKSkgdGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgZGF0ZSBmb3JtYXRcIik7XG5cdFxuXHRcblx0aWYgKGAke2ZsYWdzLmRhdGV9YCAhPT0gXCJ1bmRlZmluZWRcIil7XG5cdCB2YXIgc3BsaXR0ZWQgPSBgJHtmbGFncy5kYXRlfWAuc3BsaXQoXCItXCIsIDMpOyBcblx0IGNvbnNvbGUubG9nKCdodHRwczovL2xvY2FsaG9zdDo4NzY1L2VuZXJneS9hcGkvRGF5QWhlYWRUb3RhbExvYWRGb3JlY2FzdC8nICtgJHtmbGFncy5hcmVhfWAgKycvJyArIGAke2ZsYWdzLnRpbWVyZXN9YCArJy9kYXRlLycgKyBzcGxpdHRlZFswXSArJy0nICsgc3BsaXR0ZWRbMV0gKyAnLScgKyBzcGxpdHRlZFsyXSsgXCI/Zm9ybWF0PVwiICsgYCR7ZmxhZ3MuZm9ybWF0fWApO1xuXHQgaWYgKGAke2ZsYWdzLmZvcm1hdH1gPT0gXCJ1bmRlZmluZWRcIiB8fCBgJHtmbGFncy5mb3JtYXR9YD09XCJqc29uXCIpe1xuXHQgY29uc3QgZGF0YT0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwczovL2xvY2FsaG9zdDo4NzY1L2VuZXJneS9hcGkvRGF5QWhlYWRUb3RhbExvYWRGb3JlY2FzdC8nICtgJHtmbGFncy5hcmVhfWAgKycvJyArIGAke2ZsYWdzLnRpbWVyZXN9YCArJy9kYXRlLycgKyBzcGxpdHRlZFswXSArJy0nICsgc3BsaXR0ZWRbMV0gKyAnLScgKyBzcGxpdHRlZFsyXSk7XG5cdCBcdCBjb25zb2xlLmxvZyhkYXRhLmRhdGEpO1xuXHQgfVxuXHQgZWxzZSBpZiAoYCR7ZmxhZ3MuZm9ybWF0fWA9PVwiY3N2XCIpIHtcblx0IFx0IGNvbnN0IGRhdGE9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9sb2NhbGhvc3Q6ODc2NS9lbmVyZ3kvYXBpL0RheUFoZWFkVG90YWxMb2FkRm9yZWNhc3QvJyArYCR7ZmxhZ3MuYXJlYX1gICsnLycgKyBgJHtmbGFncy50aW1lcmVzfWAgKycvZGF0ZS8nICsgc3BsaXR0ZWRbMF0gKyctJyArIHNwbGl0dGVkWzFdICsgJy0nICsgc3BsaXR0ZWRbMl0rIFwiP2Zvcm1hdD1cIiArIGAke2ZsYWdzLmZvcm1hdH1gKTtcblx0IFx0IGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XG5cdCB9XG5cdCBlbHNlIGNvbnNvbGUubG9nKFwiRXJyb3IgNDAwOiBCYWQgUmVxdWVzdFwiKTtcblxuXHR9XG5cblx0ZWxzZSBpZiAoYCR7ZmxhZ3MubW9udGh9YCAhPT1cInVuZGVmaW5lZFwiKXtcblx0IFx0IHZhciBzcGxpdHRlZCA9IGAke2ZsYWdzLm1vbnRofWAuc3BsaXQoXCItXCIsIDIpOyBcblx0IFx0IFx0IGlmIChgJHtmbGFncy5mb3JtYXR9YD09IFwidW5kZWZpbmVkXCIgfHwgYCR7ZmxhZ3MuZm9ybWF0fWA9PVwianNvblwiKXtcblx0IGNvbnN0IGRhdGE9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9sb2NhbGhvc3Q6ODc2NS9lbmVyZ3kvYXBpL0RheUFoZWFkVG90YWxMb2FkRm9yZWNhc3QvJyArYCR7ZmxhZ3MuYXJlYX1gICsnLycgKyAgYCR7ZmxhZ3MudGltZXJlc31gICsnL21vbnRoLycgKyBzcGxpdHRlZFswXSArJy0nICsgc3BsaXR0ZWRbMV0pO1xuXHQgXHRcdFx0IGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XG5cdCBcdFx0fVxuXG5cdCBcdCBlbHNlIGlmIChgJHtmbGFncy5mb3JtYXR9YD09XCJjc3ZcIikge1xuXHQgXHQgY29uc3QgZGF0YT0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwczovL2xvY2FsaG9zdDo4NzY1L2VuZXJneS9hcGkvRGF5QWhlYWRUb3RhbExvYWRGb3JlY2FzdC8nICtgJHtmbGFncy5hcmVhfWAgKycvJyArIGAke2ZsYWdzLnRpbWVyZXN9YCArJy9tb250aC8nICsgc3BsaXR0ZWRbMF0gKyctJyArIHNwbGl0dGVkWzFdICsgXCI/Zm9ybWF0PVwiICsgYCR7ZmxhZ3MuZm9ybWF0fWApO1xuXHQgXHQgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcblx0ICAgIH1cblx0ICAgIFxuXHQgICAgZWxzZSBjb25zb2xlLmxvZyhcIkVycm9yIDQwMDogQmFkIFJlcXVlc3RcIik7XG5cdH1cblx0XG5cdGVsc2UgaWYgKGAke2ZsYWdzLnllYXJ9YCAhPT0gXCJ5ZWFyXCIpe1xuXHQgaWYgKGAke2ZsYWdzLmZvcm1hdH1gPT0gXCJ1bmRlZmluZWRcIiB8fCBgJHtmbGFncy5mb3JtYXR9YD09XCJqc29uXCIpe1xuXHQgY29uc3QgZGF0YT0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwczovL2xvY2FsaG9zdDo4NzY1L2VuZXJneS9hcGkvRGF5QWhlYWRUb3RhbExvYWRGb3JlY2FzdC8nICtgJHtmbGFncy5hcmVhfWAgKycvJyAgKyBgJHtmbGFncy50aW1lcmVzfWAgKycveWVhci8nICtgJHtmbGFncy55ZWFyfWApO1xuXHQgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcblx0IH1cblx0IFxuXHQgZWxzZSBpZiAoYCR7ZmxhZ3MuZm9ybWF0fWA9PVwiY3N2XCIpIHtcblx0IFx0IGNvbnN0IGRhdGE9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9sb2NhbGhvc3Q6ODc2NS9lbmVyZ3kvYXBpL0RheUFoZWFkVG90YWxMb2FkRm9yZWNhc3QvJyArYCR7ZmxhZ3MuYXJlYX1gICsnLycgICsgYCR7ZmxhZ3MudGltZXJlc31gICsnL3llYXIvJyArIGAke2ZsYWdzLnllYXJ9YCArIFwiP2Zvcm1hdD1cIiArIGAke2ZsYWdzLmZvcm1hdH1gKTtcblx0IFx0IGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XG5cdCAgICB9XG5cdCAgXG5cdCBlbHNlIGNvbnNvbGUubG9nKFwiRXJyb3IgNDAwOiBCYWQgUmVxdWVzdFwiKTtcblx0fVxuXHRcblx0ZWxzZSBjb25zb2xlLmxvZyhcIkVycm9yIDQwMDogQmFkIFJlcXVlc3RcIik7XG5cdFxuXHRcbiAgfSBcbn1cbiJdfQ=="]}